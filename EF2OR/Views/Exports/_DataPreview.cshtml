@model EF2OR.ViewModels.ExportsViewModel

@if (Model.DataPreviewSections != null)
    {
        <h3>Data Preview</h3>

        foreach (var previewSection in Model.DataPreviewSections)
        {
            <div class="btn btn-primary accordionHeader" data-toggle="collapse" href="#preview_@previewSection.SectionName">
                @previewSection.SectionName
            </div>
            <div class="collapse" id="preview_@previewSection.SectionName">
                <table id="table_@previewSection.SectionName" data-pagination="true" class="table table-striped table-bordered table-condensed">
                    <thead>
                        <tr>
                            @foreach (var col in previewSection.ColumnNames)
                            {
                                <th data-field="@col">@col</th>
                            }
                        </tr>
                    </thead>
                </table>
            </div>
    }

    <script>
            $(function () {
                var orgsData = @Html.Raw(Model.JsonPreviews.Orgs);
                $('#table_orgs').bootstrapTable({
                    undefinedText: '',
                    data: orgsData
                });

                var usersData = @Html.Raw(Model.JsonPreviews.Users);
                $('#table_users').bootstrapTable({
                    undefinedText: '',
                    data: usersData
                });

                var coursesData = @Html.Raw(Model.JsonPreviews.Courses);
                $('#table_courses').bootstrapTable({
                    undefinedText: '',
                    data: coursesData
                });

                var classesData = @Html.Raw(Model.JsonPreviews.Classes);
                $('#table_classes').bootstrapTable({
                    undefinedText: '',
                    data: classesData
                });

                var enrollmentsData = @Html.Raw(Model.JsonPreviews.Enrollments);
                $('#table_enrollments').bootstrapTable({
                    undefinedText: '',
                    data: enrollmentsData
                });

                var academicsessions = @Html.Raw(Model.JsonPreviews.AcademicSessions);
                $('#table_academicsessions').bootstrapTable({
                    undefinedText: '',
                    data: academicsessions
                });
            });
    </script>

}